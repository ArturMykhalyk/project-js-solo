{"version":3,"file":"index.js","sources":["../src/js/artists-api.js","../src/js/constants.js","../src/js/refs.js","../src/js/render-function.js","../src/js/handlers.js","../src/js/mobile-menu.js","../src/home.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function getArtists(currentPage = 1) {\n  try {\n    const baseURL = 'https://sound-wave.b.goit.study/api';\n    const endPoint = '/artists';\n    const url = baseURL + endPoint;\n    const params = {\n      limit: 8,\n      page: currentPage,\n    };\n\n    const res = await axios.get(url, { params });\n    return res.data;\n  } catch (e) {\n    console.log(e);\n    return null;\n  }\n}\n\nexport async function getFeedBack(currentPage = 1) {\n  try {\n    const baseURL = 'https://sound-wave.b.goit.study/api';\n    const endPoint = '/feedbacks';\n    const url = baseURL + endPoint;\n    const params = {\n      limit: 8,\n      page: currentPage,\n    };\n\n    const res = await axios.get(url, { params });\n    return res.data;\n  } catch (e) {\n    console.log(e);\n    return null;\n  }\n}\n","let totalPage = 0;\n\nexport function setTotalPage(value) {\n  totalPage = value;\n}\n\nexport function getTotalPage() {\n  return totalPage;\n}\n","//Обʼєкт з посиланнями на ДОМ елементи\n\nexport default {\n  mobileMenuOpen: document.getElementById('open-menu'),\n  mobileMenuClose: document.getElementById('close-btn'),\n  mobileMenuList: document.querySelector('.header-menu'),\n  artistsList: document.querySelector('.artists-list'),\n  loader: document.querySelector('.loader'),\n  moreBtn: document.querySelector('.moreButton'),\n  feedBack: document.querySelector('.feed-back-container'),\n  modal: document.querySelector('.modal'),\n  closeModalBtn: document.querySelector('.modal__close-btn'),\n};\n","import refs from './refs';\n\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\nimport Swiper from 'swiper';\nimport { Navigation, Pagination, Autoplay } from 'swiper/modules';\n\nfunction createArtistsMarkup(artists) {\n  return artists\n    .map(\n      ({\n        _id,\n        strArtist,\n        strArtistThumb,\n        strBiographyEN,\n        genres,\n      }) => `<li class=\"artists--list__item\">\n        <img\n          class=\"artists--photo\"\n          src=\"${strArtistThumb}\"\n          alt=\"${strArtist}\"\n        />\n        <ul class=\"artists--genres\">\n        ${genres\n          .map(\n            genre => `<li class=\"artists--genres__item\"><p>${genre}</p></li>`\n          )\n          .join('')}\n        </ul>\n        <h3 class=\"artists--name\">${strArtist}</h3>\n        <p class=\"artists--descr\">${strBiographyEN}</p>\n        <button class=\"artist--btn\" data-id=\"${_id}\">\n          Learn More\n          <svg class=\"hero-icon\" >\n            <use href=\"/img/sprite.svg#icon-right-arrow-full\"></use>\n          </svg>\n        </button>\n      </li>\n  `\n    )\n    .join('');\n}\n\nexport function createArtists(artists) {\n  refs.artistsList.innerHTML = createArtistsMarkup(artists);\n}\nexport function addMoreBtnArtists(artists) {\n  refs.artistsList.insertAdjacentHTML(\n    'beforeend',\n    createArtistsMarkup(artists)\n  );\n}\nexport function showLoader() {\n  refs.loader.classList.add('visible');\n}\nexport function hideLoader() {\n  refs.loader.classList.remove('visible');\n}\nexport function showLoadMoreButton() {\n  refs.moreBtn.classList.add('visible');\n}\nexport function hideLoadMoreButton() {\n  refs.moreBtn.classList.remove('visible');\n}\n\nexport function createFeedBack(feedBacks) {\n  const feedBackMarcup = feedBacks\n    .map(\n      ({\n        _id,\n        name,\n        rating,\n        descr,\n      }) => `<div class=\"swiper-slide\" data-id=\"${_id}\">\n<p>${rating}</p>\n<p>${descr}</p>\n<p>${name}</p>\n\n</div>`\n    )\n    .join('');\n\n  const markup = `\n  <div class=\"swiper modal-product__slider\">\n<div class=\"swiper-wrapper\">\n  ${feedBackMarcup}\n</div>\n<div class=\"swiper-button-next\"></div>\n<div class=\"swiper-button-prev\"></div>\n<div class=\"swiper-pagination\"></div>\n</div>`;\n  refs.feedBack.innerHTML = markup;\n\n  new Swiper('.modal-product__slider', {\n    modules: [Navigation, Pagination, Autoplay],\n\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    pagination: {\n      el: '.swiper-pagination',\n      clickable: true,\n    },\n    autoplay: {\n      delay: 5000,\n    },\n  });\n}\n","import { getArtists } from './artists-api';\nimport { getTotalPage } from './constants';\nimport {\n  addMoreBtnArtists,\n  hideLoader,\n  hideLoadMoreButton,\n  showLoader,\n  showLoadMoreButton,\n} from './render-function';\n\nlet page = 1;\n\nexport async function handleMoreBtn() {\n  if (getTotalPage() > page) {\n    showLoader();\n    hideLoadMoreButton();\n    const artists = await getArtists(++page);\n    hideLoader();\n    showLoadMoreButton();\n\n    addMoreBtnArtists(artists.artists);\n  } else {\n    hideLoadMoreButton();\n  }\n\n  console.log(artists.artists);\n}\n","import refs from './refs';\nexport function handleOpenMobileMenu() {\n  refs.mobileMenuClose.classList.remove('hidden');\n  refs.mobileMenuOpen.classList.add('hidden');\n  refs.mobileMenuList.classList.add('open');\n  refs.mobileMenuClose.addEventListener('click', handleCloseMobileMenu);\n  refs.mobileMenuList.addEventListener('click', handleNavMenu);\n\n  document.body.style.overflow = 'hidden';\n}\n\nfunction handleNavMenu(e) {\n  if (e.target.nodeName !== 'A') return;\n  handleCloseMobileMenu();\n}\n\nfunction handleCloseMobileMenu() {\n  document.body.style.overflow = '';\n  refs.mobileMenuClose.classList.add('hidden');\n  refs.mobileMenuOpen.classList.remove('hidden');\n  refs.mobileMenuList.classList.remove('open');\n  refs.mobileMenuClose.removeEventListener('click', handleCloseMobileMenu);\n  refs.mobileMenuList.removeEventListener('click', handleNavMenu);\n}\n","import { getArtists, getFeedBack } from './js/artists-api';\nimport { getTotalPage, setTotalPage } from './js/constants';\nimport { handleMoreBtn } from './js/handlers';\nimport { handleOpenMobileMenu } from './js/mobile-menu';\nimport { openModal } from './js/modal';\nimport refs from './js/refs';\n\nimport {\n  createArtists,\n  createFeedBack,\n  hideLoader,\n  showLoader,\n  showLoadMoreButton,\n} from './js/render-function';\n// openModal();\n\nrefs.mobileMenuOpen.addEventListener('click', handleOpenMobileMenu);\nasync function initMainPage() {\n  showLoader();\n  const artists = await getArtists();\n  hideLoader();\n  createArtists(artists.artists);\n\n  setTotalPage(artists.totalArtists / 8);\n\n  if (getTotalPage() > 1) {\n    showLoadMoreButton();\n    refs.moreBtn.addEventListener('click', handleMoreBtn);\n  }\n\n  const feedBacks = await getFeedBack();\n  console.log(feedBacks.data);\n  createFeedBack(feedBacks.data);\n}\n\ninitMainPage();\n"],"names":["getArtists","currentPage","url","params","axios","e","getFeedBack","totalPage","setTotalPage","value","getTotalPage","refs","createArtistsMarkup","artists","_id","strArtist","strArtistThumb","strBiographyEN","genres","genre","createArtists","addMoreBtnArtists","showLoader","hideLoader","showLoadMoreButton","hideLoadMoreButton","createFeedBack","feedBacks","markup","name","rating","descr","Swiper","Navigation","Pagination","Autoplay","page","handleMoreBtn","handleOpenMobileMenu","handleCloseMobileMenu","handleNavMenu","initMainPage"],"mappings":"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"}